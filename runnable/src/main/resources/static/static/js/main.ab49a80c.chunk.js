(this["webpackJsonpproblems-solving"]=this["webpackJsonpproblems-solving"]||[]).push([[0],{104:function(e,t,n){},191:function(e,t,n){},195:function(e,t,n){},217:function(e,t){},219:function(e,t){},231:function(e,t){},233:function(e,t){},261:function(e,t){},263:function(e,t){},264:function(e,t){},270:function(e,t){},272:function(e,t){},290:function(e,t){},292:function(e,t){},304:function(e,t){},307:function(e,t){},328:function(e,t,n){},330:function(e,t,n){},331:function(e,t,n){},353:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},358:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(1),i=n.n(a),c=n(22),r=n.n(c),o=(n(191),n(102),n(192),n(193),n(103),n(194),n(195),n(7)),l=n(10),d=n(13),j=n(12),b=n(16),m=n(11),u=n(40),h=n(23),p=(n(104),n(29)),O=n.n(p),x=n(46),f=n.n(x),g="token",v="rememberMe",N=9e5,y="http://192.168.1.107:8080",k=new(function(){function e(){var t=this;Object(o.a)(this,e),this.state={Server:y},this.refreshToken=function(){return O.a.get("".concat(t.state.Server,"/api/auth/refresh-token"))},this.JWTAuthServer=function(e,n,s){return O()({method:"post",url:"".concat(t.state.Server,"/api/auth/signin"),data:{username:e,password:n,rememberMe:s}})},this.getUserInfo=function(){try{var e=f.a.decode(t.getTokenFromCookie());if(null!==e&&void 0!==e)return e.sub}catch(n){console.log(n)}return null},this.isLogged=function(){return null!==t.getUserInfo()},this.getTokenFromCookie=function(){try{for(var e,t=document.cookie.split(";"),n=[],s=0;s<t.length;s++)n[s]=t[s].split("=")[0].trim();if((e=n.indexOf(g))>-1)return t[e].split(/=(.+)/)[1]}catch(a){console.log(a)}return null},this.signUp=function(e){return O.a.post("".concat(t.state.Server,"/api/auth/signup"),e)},this.getAllUsers=function(){return O.a.get("".concat(t.state.Server,"/api/auth/getAll"))}}return Object(l.a)(e,[{key:"firstCheckIsLogged",value:function(){try{if(null===sessionStorage.getItem("isChecked")||!sessionStorage.getItem("isChecked")){for(var e,t=document.cookie.split(";"),n=[],s=0;s<t.length;s++)n[s]=t[s].split("=")[0].trim();e=n.indexOf(v),(n.indexOf(g)<=-1||e<=-1||"true"!==t[e].split(/=(.+)/)[1])&&(document.cookie="rememberMe=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),sessionStorage.setItem("isChecked",!0)}}catch(a){sessionStorage.setItem("isChecked",!1),console.log(a)}}}]),e}()),w=new function e(){Object(o.a)(this,e),this.handleError=function(e,t){403===t.response.status?e.setState({ErrMsg:"Non hai il permesso di eseguire questa funzionalt\xe0",ErrWebApi:!0}):e.setState({ErrMsg:t.response.data.message,ErrWebApi:!0})}},C=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={userId:"Roberto",password:"123Stella",rememberMe:!1,isLogged:!1,noLogged:!1,username:null,token:null,ErrMsg:null},e.componentDidMount=function(){try{e.setState({token:k.getTokenFromCookie(),username:k.getUserInfo()})}catch(t){console.log(t)}},e.Login=function(t){t.preventDefault(),k.JWTAuthServer(e.state.userId,e.state.password,e.state.rememberMe).then((function(t){e.props.history.push("/welcome/".concat(e.state.userId))})).catch((function(t){w.handleError(Object(h.a)(e),t),e.setState({isLogged:!1,noLogged:!0})}))},e.GestMod=function(t){"checkbox"===t.target.type?e.setState(Object(u.a)({},t.target.name,t.target.checked)):"text"===t.target.type||"password"===t.target.type?e.setState(Object(u.a)({},t.target.name,t.target.value)):console.log(t.target.type+" -> "+t.target.name+": "+t.target.value)},e}return Object(l.a)(n,[{key:"render",value:function(){return null===this.state.token||null===this.state.username||""===this.state.token||""===this.state.username?Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Accedi all'App GestFid"}),Object(s.jsx)("section",{id:"logInSection",children:Object(s.jsxs)("form",{className:"form-signin",onSubmit:this.Login,children:[Object(s.jsx)("img",{className:"mb-4",src:"https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg",alt:"",width:"72",height:"72"}),Object(s.jsx)("h1",{className:"h3 mb-3 font-weight-normal",children:"Please sign in"}),this.state.ErrMsg&&Object(s.jsx)("div",{className:"alert alert-danger",children:Object(s.jsx)("h5",{children:this.state.ErrMsg})}),Object(s.jsx)("label",{htmlFor:"userId",className:"sr-only",children:"Email address"}),Object(s.jsx)("input",{type:"text",id:"userId",name:"userId",className:"form-control",defaultValue:this.state.userId,onChange:this.GestMod,required:!0,autoFocus:!0}),Object(s.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(s.jsx)("input",{type:"password",id:"password",name:"password",className:"form-control",defaultValue:this.state.password,onChange:this.GestMod,required:!0}),Object(s.jsx)("div",{className:"checkbox mb-3",children:Object(s.jsxs)("label",{children:[Object(s.jsx)("input",{id:"rememberMe",name:"rememberMe",type:"checkbox",onChange:this.GestMod})," Remember me"]})}),Object(s.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Accedi"}),Object(s.jsx)("hr",{}),Object(s.jsx)(b.b,{className:"btn btn-md btn-warning btn-block",to:"/signup",type:"button",children:"Signup"}),Object(s.jsx)("p",{className:"mt-5 mb-3 text-muted",children:"\xa9 2017-2018"})]})})]}):Object(s.jsx)(m.a,{to:"/welcome/"+this.state.username})}}]),n}(a.Component),S=(n(328),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="rememberMe=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",this.props.history.push("/login"),null}}]),n}(a.Component)),E=n(9),M=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={username:"",email:"",password:"",okMsg:null,ErrMsg:null},e.Salva=function(t){k.signUp({username:t.username,email:t.email,password:t.password,roles:["user"]}).then((function(){e.setState({okMsg:"Inserimento dati eseguito con successo"}),e.props.history.push("/login")})).catch((function(t){return w.handleError(Object(h.a)(e),t)}))},e.Login=function(){window.confirm("Vuoi tornare al login?")&&e.props.history.push("/login")},e.Valida=function(e){var t={};return e.username?e.username.length<6&&(t.username="L'username deve avere almeno 6 caratteri"):t.username="Inserisci un username",e.email||(t.email="Inserisci un'email valida"),e.password?e.password.length<6&&(t.password="La password deve avere almeno 6 caratteri"):t.password="Inserisci una password",t},e}return Object(l.a)(n,[{key:"handleResponse",value:function(e){this.setState({username:e.data.username,email:e.data.email,password:e.data.password,okMsg:null})}},{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.email,i=t.password;return Object(s.jsx)("section",{className:"container",children:Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h3",{className:"card-title mb-4",children:"Signup"}),Object(s.jsx)(E.d,{initialValues:{username:n,email:a,password:i},onSubmit:this.Salva,enableReinitialize:!0,validate:this.Valida,validateOnChange:!1,validateOnBlur:!1,children:function(t){return Object(s.jsxs)(E.c,{children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("img",{style:{width:"100px",marginBottom:"2rem"},src:"../logo.png",className:"img-sm rounded-circle border",alt:"imgcli"})}),e.state.okMsg&&Object(s.jsx)("div",{className:"alert alert-success",children:Object(s.jsx)("h5",{children:e.state.okMsg})}),e.state.ErrMsg&&Object(s.jsx)("div",{className:"alert alert-danger",children:Object(s.jsx)("h5",{children:e.state.ErrMsg})}),Object(s.jsxs)("div",{className:"form-row",children:[Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Username"}),Object(s.jsx)(E.b,{type:"text",name:"username",className:"form-control"}),Object(s.jsx)(E.a,{name:"username",component:"span",className:"errmsg"})]}),Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Email"}),Object(s.jsx)(E.b,{type:"email",name:"email",className:"form-control"}),Object(s.jsx)(E.a,{name:"email",component:"span",className:"errmsg"})]})]}),Object(s.jsx)("div",{className:"form-row",children:Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Password"}),Object(s.jsx)(E.b,{type:"password",name:"password",className:"form-control"}),Object(s.jsx)(E.a,{name:"password",component:"span",className:"errmsg"})]})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"submit",className:"btn btn-primary inscli",children:"Salva"}),Object(s.jsx)("button",{type:"button",onClick:e.Login,className:"btn btn-warning inscli",children:"Login"})]})]})}})]})})})}}]),n}(a.Component),I=(n(330),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"GestFidApp",children:Object(s.jsxs)("section",{id:"welcomeSection",children:[Object(s.jsx)("h1",{children:"Benvenuti in GestFid"}),Object(s.jsxs)("p",{children:["Saluti ",Object(s.jsx)("b",{children:this.props.match.params.userId})]}),Object(s.jsx)(b.b,{to:"/clienti",type:"button",className:"btn btn-primary",children:"Vai ai clienti disponibili"})]})})}}]),n}(a.Component)),L=(n(331),new function e(){var t=this;Object(o.a)(this,e),this.state={Server:y,BaseURL:"/api/clienti"},this.getAllClientiData=function(){return O.a.get("".concat(t.state.Server).concat(t.state.BaseURL,"/cerca/all"))},this.getClientiByCode=function(e){return O.a.get("".concat(t.state.Server).concat(t.state.BaseURL,"/cerca/codice/").concat(e))},this.delClienteByCode=function(e){return O.a.delete("".concat(t.state.Server).concat(t.state.BaseURL,"/elimina/codfid/").concat(e))},this.insCliente=function(e){return O.a.post("".concat(t.state.Server).concat(t.state.BaseURL,"/inserisci"),e)}}),T=n(60),A=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={clienti:[],CodFid:"",ErrWebApi:!1,ErrMsg:"",NumCli:0,OkMsg:null},e.CercaTutti=function(){L.getAllClientiData().then((function(t){return e.handleResponse(t)})).catch((function(t){console.log("ERRORE: %O",t),w.handleError(Object(h.a)(e),t)}))},e.ResetValue=function(){e.setState({clienti:[],ErrWebApi:!1,ErrMsg:"",NumCli:0})},e.Cerca=function(){e.ResetValue(),""===e.state.CodFid?L.getAllClientiData().then((function(t){return e.handleResponse(t)})).catch((function(t){return w.handleError(Object(h.a)(e),t)})):L.getClientiByCode(e.state.CodFid).then((function(t){return e.handleResponse(t)})).catch((function(t){return w.handleError(Object(h.a)(e),t)}))},e.Elimina=function(t){L.delClienteByCode(t).then((function(){e.setState({OkMsg:"Eliminazione cliente ".concat(t," eseguita con successo!")}),e.ResetValue(),e.CercaTutti()})).catch((function(t){return w.handleError(Object(h.a)(e),t)}))},e.Modifica=function(t){e.props.history.push("/inscliente/".concat(t))},e.Inserisci=function(){console.log("Premuto il tasto Inserimento!"),e.props.history.push("/inscliente/-1")},e.handleResponse=function(t){e.setState({clienti:e.state.clienti.concat(t.data)}),e.setState({NumCli:e.state.clienti.length})},e.GestMod=function(t){e.setState(Object(u.a)({},t.target.name,t.target.value))},e.DatatablePage=function(){var t=[],n=function(t){return Object(s.jsx)("button",{id:"delete-"+t,onClick:function(n){return window.confirm("Confermi l'eliminazione del cliente ".concat(t,"?"))&&e.Elimina(t)},type:"button",className:"btn btn-danger rounded",size:"sm",children:"Elimina"})},a=function(t){return Object(s.jsx)("button",{id:"edit-"+t,onClick:function(){return e.Modifica(t)},type:"button",className:"btn btn-warning rounded",size:"sm",children:"Modifica"})};e.state.clienti.map((function(e,s){null!=e.cards?t[s]={codfid:e.codfid,nominativo:e.nominativo,bollini:e.cards.bollini,data:e.cards.ultimaspesa,edit:a(e.codfid),delete:n(e.codfid)}:t[s]={codfid:e.codfid,nominativo:e.nominativo,bollini:0,data:"Sconosciuta",edit:a(e.codfid),delete:n(e.codfid)}}));var i={columns:[{label:"CodFid",field:"codfid",sort:"asc",width:150},{label:"Name",field:"nominativo",sort:"asc",width:150},{label:"Bollini",field:"bollini",sort:"asc",width:270},{label:"Data",field:"data",sort:"asc",width:270},{label:"Modifica",field:"edit",sort:"asc",width:270},{label:"Delete",field:"delete",sort:"asc",width:270}],rows:t};return Object(s.jsxs)(T.c,{style:{width:"90%",margin:"2rem auto",maxWidth:"90vw"},children:[Object(s.jsxs)(T.e,{tag:"h3",className:"text-center font-weight-bold text-uppercase py-4",children:["Table Editable",Object(s.jsx)("br",{}),Object(s.jsxs)("button",{onClick:e.Inserisci,type:"button",className:"btn btn-info rounded",children:[Object(s.jsx)("i",{className:"fa fa-plus"})," Aggiungi nuovo cliente"]})]}),Object(s.jsxs)(T.d,{children:[e.state.OkMsg&&Object(s.jsx)("div",{className:"alert alert-success",children:e.state.OkMsg}),Object(s.jsx)(z,{ErrWebApi:e.state.ErrWebApi,ErrMsg:e.state.ErrMsg,obj:Object(h.a)(e)}),Object(s.jsx)(T.f,{btn:!0,striped:!0,bordered:!0,hover:!0,entriesOptions:[5,20,25],entries:5,data:i})]})]})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.CercaTutti()}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("section",{id:"clientiSection",children:[Object(s.jsxs)("h3",{children:["Clienti Disponibili: ",this.state.NumCli]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{style:{display:"inline-block"},type:"button",className:"btn btn-primary",onClick:this.Cerca,children:Object(s.jsx)("i",{className:"fa fa-search"})}),Object(s.jsxs)("div",{style:{display:"inline-block"},className:"filter-group",children:[Object(s.jsx)("label",{children:"Fltro: "}),Object(s.jsx)("input",{name:"CodFid",type:"text",className:"form-control",value:this.state.CodFid,onChange:this.GestMod})]})]}),this.DatatablePage()]})})}}]),n}(a.Component);function z(e){return e.ErrWebApi?Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(s.jsx)("h3",{children:e.ErrMsg})})}):null}n(353);var R=n(37),B=n(183),D=n.n(B),F=n(185),U=n(366),V=n(365),W=n(101),G=3600,P={isPlaying:!0,size:160,strokeWidth:6},q="Secondi",J="Minuti",H=!0,_=!0;var Z=function(e,t){return e===q?0===t&&(_=!1):e===J&&0===t&&(H=!1),H||_?Object(s.jsxs)("div",{className:"timer",children:[Object(s.jsx)("div",{className:"text",children:"Rimangono"}),Object(s.jsx)("div",{className:"value",children:t}),Object(s.jsx)("div",{className:"text",children:e})]}):(null!==document.getElementById("RefreshToken")&&document.getElementById("RefreshToken").remove(),null!==document.getElementById("alertText")&&(document.getElementById("alertText").innerHTML="Il tuo token \xe8 scaduto rifai il login per continuare."),function(e){for(var t=document.getElementsByClassName(e);t.length>0;)t[0].parentNode.removeChild(t[0])}("timer-wrapper"),Object(s.jsx)("div",{className:"timer",children:"Troppo tardi..."}))},Y=function(e){H=!0,_=!0;var t=Object(a.useState)(e.show),n=Object(F.a)(t,2),i=n[0],c=n[1],r=0;(void 0!==e.diff||e.diff<0)&&(r=e.diff);return(void 0!==e.time||e.time<0)&&e.time,i?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{id:"alertExp",style:{position:"fixed",zIndex:"1",width:"100%",top:"4rem",textAlign:"center"},children:Object(s.jsxs)(U.a,{variant:"danger",onClose:o,dismissible:!0,children:[Object(s.jsx)(U.a.Heading,{children:"ATTENZIONE!"}),Object(s.jsx)("p",{id:"alertText",children:"Il tuo token sta per scaddere, lo vuoi aggiornare?"}),Object(s.jsxs)("div",{className:"timer-wrapper",children:[Object(s.jsx)(W.CountdownCircleTimer,Object(R.a)(Object(R.a)({},P),{},{colors:[["#EF798A"]],duration:G,initialRemainingTime:r/1e3%G,onComplete:function(e){return[r/1e3-e>60]},children:function(e){var t=e.elapsedTime;return Z(J,function(e){return e%G/60|0}(G-t))}})),Object(s.jsx)(W.CountdownCircleTimer,Object(R.a)(Object(R.a)({},P),{},{colors:[["#218380"]],duration:60,initialRemainingTime:r/1e3%60,onComplete:function(e){return[r/1e3-e>0]},children:function(e){var t=e.elapsedTime;return Z(q,function(e){return 60-e|0}(t))}}))]}),Object(s.jsx)("hr",{}),Object(s.jsx)(V.a,{id:"RefreshToken",onClick:function(){return o(),k.refreshToken().catch((function(e){return console.log(e)}))},className:"btn btn-warning rounded",children:"Refresh Token"}),Object(s.jsx)("a",{href:"/login",type:"button",className:"btn btn-info rounded",children:"LOGIN"})]})})}):null;function o(){c(!1)}},$=null,K=null,Q=null,X=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).componentDidMount=function(){try{e.setVariablesByCookie(),e.loopIfExpired()}catch(t){console.log(t)}},e.setVariablesByCookie=function(){try{null!==($=k.getTokenFromCookie())&&(k.getUserInfo(),K=new Date(1e3*f.a.decode($).exp).getTime(),Q=(new Date).getTime())}catch(e){console.log(e)}},e.loopIfExpired=function(){var t=setInterval((function(){if(console.log("loopIfExpired: 900 secondi"),e.setVariablesByCookie(),null!==e.checkIfExpired()){if(e.checkIfExpired()){var n=D()({displayName:"Hello",render:function(){return Object(s.jsx)(Y,{obj:this,show:!0,diff:K-Q,time:N})}}),a=document.createElement("div");r.a.render(Object(s.jsx)(n,{}),a);var i=document.querySelector("body");null!==i.querySelector("#alertExp")&&void 0!==i.querySelector("#alertExp")||i.appendChild(a,document.querySelector("body"))}}else clearInterval(t)}),N)},e.checkIfExpired=function(){return null!==$?Q<K&&K-Q<=91e4||new Date>K&&null:null},e.setupAxiosInterceptors(),e}return Object(l.a)(n,[{key:"setupAxiosInterceptors",value:function(){var e=this,t="";O.a.interceptors.request.use((function(n){return e.setVariablesByCookie(),t="Bearer "+$,k.isLogged()&&(n.headers.authorization=t),n}),(function(e){return Promise.reject(e)}))}},{key:"render",value:function(){this.setVariablesByCookie();var e="";if(null!==$&&void 0!==$&&(e=f.a.decode($).roles),k.isLogged()&&null!==this.checkIfExpired()){var t=this.props.role,n=!1;return e.forEach((function(e){null!==e.authority&&e.authority===t&&(n=!0)})),n?this.checkIfExpired()?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Y,{obj:this,show:!0,diff:K-Q,time:N}),Object(s.jsx)(m.b,Object(R.a)({},this.props))]}):Object(s.jsx)(m.b,Object(R.a)({},this.props)):Object(s.jsx)(m.a,{to:"/forbidden"})}return Object(s.jsx)(m.a,{to:"/login"})}}]),n}(a.Component),ee=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={id:"",codfid:"",nominativo:"",indirizzo:"",comune:"",cap:"",prov:"",telefono:"",mail:"",attivo:!0,cards:{bollini:0,ultimaspesa:"2020-01-01"},okMsg:null,ErrMsg:null},e.Salva=function(t){L.insCliente({id:t.id,codfid:t.codfid,nominativo:t.nominativo,indirizzo:t.indirizzo,comune:t.comune,cap:t.cap,prov:t.prov,telefono:t.telefono,mail:t.mail,attivo:t.attivo,cards:t.cards}).then((function(){e.setState({okMsg:"Inserimento dati eseguito con successo"})})).catch((function(t){return w.handleError(Object(h.a)(e),t)}))},e.Annulla=function(){window.confirm("Abbandoni le modifiche?")&&e.props.history.push("/clienti")},e.Valida=function(e){var t={};return e.codfid?8!==e.codfid.length&&(t.codfid="Il codice fidelity deve avere 8 caratteri"):t.codfid="Inserisci il codice fidelity del cliente",e.nominativo?e.nominativo.length<6&&(t.nominativo="Il nome deve avere almeno 6 caratteri"):t.nominativo="Inserisci il nome del cliente",e.indirizzo||(t.indirizzo="Inserisci il indirizzo del cliente"),e.comune||(t.comune="Inserisci il comune del cliente"),e.telefono||(t.telefono="Inserisci il telefono del cliente"),t},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.codfid;"-1"!=t&&L.getClientiByCode(t).then((function(t){return e.handleResponse(t)})).catch((function(t){return w.handleError(e,t)}))}},{key:"handleResponse",value:function(e){this.setState({id:e.data.id,codfid:e.data.codfid,nominativo:e.data.nominativo,indirizzo:e.data.indirizzo,comune:e.data.comune,cap:e.data.cap,prov:e.data.prov,telefono:e.data.telefono,mail:e.data.mail,attivo:e.data.attivo,cards:e.data.cards,okMsg:null})}},{key:"render",value:function(){var e=this,t=this.state,n=t.id,a=t.codfid,i=t.nominativo,c=t.indirizzo,r=t.comune,o=t.cap,l=t.prov,d=t.telefono,j=t.mail,b=t.attivo,m=t.cards;return Object(s.jsx)("section",{className:"container",children:Object(s.jsx)("div",{className:"card",children:Object(s.jsxs)("div",{className:"card-body",children:[Object(s.jsx)("h3",{className:"card-title mb-4",children:"Dati Cliente Fidelity"}),Object(s.jsx)(E.d,{initialValues:{id:n,codfid:a,nominativo:i,indirizzo:c,comune:r,cap:o,prov:l,telefono:d,mail:j,attivo:b,cards:m},onSubmit:this.Salva,enableReinitialize:!0,validate:this.Valida,validateOnChange:!1,validateOnBlur:!1,children:function(t){return Object(s.jsxs)(E.c,{children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("img",{style:{width:"100px",marginBottom:"2rem"},src:"../logo.png",className:"img-sm rounded-circle border",alt:"imgcli"})}),e.state.okMsg&&Object(s.jsx)("div",{className:"alert alert-success",children:Object(s.jsx)("h5",{children:e.state.okMsg})}),e.state.ErrMsg&&Object(s.jsx)("div",{className:"alert alert-danger",children:Object(s.jsx)("h5",{children:e.state.ErrMsg})}),Object(s.jsxs)("div",{className:"form-row",children:[Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Codice Fidelity *"}),Object(s.jsx)(E.b,{type:"text",name:"codfid",className:"form-control"}),Object(s.jsx)(E.a,{name:"codfid",component:"span",className:"errmsg"})]}),Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Nominativo *"}),Object(s.jsx)(E.b,{type:"text",name:"nominativo",className:"form-control"}),Object(s.jsx)(E.a,{name:"nominativo",component:"span",className:"errmsg"})]})]}),Object(s.jsx)("div",{className:"form-row",children:Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Indirizzo"}),Object(s.jsx)(E.b,{type:"text",name:"indirizzo",className:"form-control"}),Object(s.jsx)(E.a,{name:"indirizzo",component:"span",className:"errmsg"})]})}),Object(s.jsxs)("div",{className:"form-row",children:[Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Comune"}),Object(s.jsx)(E.b,{type:"text",name:"comune",className:"form-control"}),Object(s.jsx)(E.a,{name:"comune",component:"span",className:"errmsg"})]}),Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Cap"}),Object(s.jsx)(E.b,{type:"text",name:"cap",className:"form-control"})]}),Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Provincia"}),Object(s.jsxs)(E.b,{as:"select",name:"prov",className:"form-control",children:[Object(s.jsx)("option",{value:"",children:"Seleziona..."}),Object(s.jsx)("option",{value:"SS",children:"Sassari..."}),Object(s.jsx)("option",{value:"CA",children:"Cagliari..."}),Object(s.jsx)("option",{value:"NU",children:"Nuoro..."}),Object(s.jsx)("option",{value:"BZ",children:"Bolzano..."}),Object(s.jsx)("option",{value:"TN",children:"Trento..."})]})]})]}),Object(s.jsxs)("div",{className:"form-row",children:[Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Telefono"}),Object(s.jsx)(E.b,{type:"text",name:"telefono",className:"form-control"}),Object(s.jsx)(E.a,{name:"telefono",component:"span",className:"errmsg"})]}),Object(s.jsxs)("div",{className:"col form-group",children:[Object(s.jsx)("label",{children:"Mail"}),Object(s.jsx)(E.b,{type:"text",name:"mail",className:"form-control"})]})]}),Object(s.jsx)("div",{className:"form-row",children:Object(s.jsxs)("label",{className:"custom-control custom-checkbox",children:[Object(s.jsx)(E.b,{type:"checkbox",name:"attivo",className:"custom-control-input"}),Object(s.jsx)("div",{className:"custom-control-label",children:"Attivo"})]})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"submit",className:"btn btn-primary inscli",children:"Salva"}),Object(s.jsx)("button",{type:"button",onClick:e.Annulla,className:"btn btn-warning inscli",children:"Annulla"})]})]})}})]})})})}}]),n}(a.Component),te=(n(355),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"HeaderComponent",children:Object(s.jsx)(se,{})})}}]),n}(a.Component)),ne=Object(m.g)(te),se=function(){return Object(s.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:[Object(s.jsxs)(b.b,{rel:"nofollow noopener",target:"_blank",className:"navbar-brand",to:"/",children:[Object(s.jsx)("img",{src:"../logo.png",width:"30",height:"30",className:"d-inline-block align-top",alt:""})," Problems Solving"]}),Object(s.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(s.jsx)("span",{className:"navbar-toggler-icon"})}),Object(s.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(s.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(s.jsx)("li",{className:"nav-item active",children:Object(s.jsxs)(b.b,{className:"nav-link",to:"/",children:["Home ",Object(s.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(b.b,{className:"nav-link",to:"/clienti",children:"Clienti"})}),Object(s.jsxs)("li",{className:"nav-item dropdown",children:[Object(s.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Dropdown"}),Object(s.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(s.jsx)("a",{className:"dropdown-item",href:"#",children:"Action"}),Object(s.jsx)("a",{className:"dropdown-item",href:"#",children:"Another action"}),Object(s.jsx)("div",{className:"dropdown-divider"}),Object(s.jsx)("a",{className:"dropdown-item",href:"#",children:"Something else here"})]})]}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)("a",{className:"nav-link disabled",href:"#",children:"Disabled"})})]}),Object(s.jsx)(ae,{}),Object(s.jsx)(ie,{})]})]})},ae=function(){return Object(s.jsx)("div",{className:"searchDiv",children:Object(s.jsxs)("form",{className:"form-inline my-2 my-lg-0",children:[Object(s.jsx)("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(s.jsx)("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"submit",children:"Search"})]})})},ie=function(){return Object(s.jsxs)("ul",{className:"navbar-nav nav-flex-icons",children:[Object(s.jsx)("li",{style:{margin:"auto"},className:"nav-item",children:Object(s.jsxs)("a",{className:"nav-link",children:["1",Object(s.jsx)("i",{className:"fa fa-envelope"})]})}),Object(s.jsxs)("li",{className:"nav-item avatar dropdown",children:[Object(s.jsx)("a",{className:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink-55","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(s.jsx)("img",{style:{width:"50px"},src:"../logo.png",className:"rounded-circle z-depth-0",alt:"avatar image"})}),Object(s.jsx)(ce,{})]})]})},ce=function(){return k.isLogged()?Object(s.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg-right dropdown-secondary","aria-labelledby":"navbarDropdownMenuLink-55",children:[Object(s.jsxs)("p",{children:["Benvenuto ",k.getUserInfo()]}),Object(s.jsx)(b.b,{className:"dropdown-item",to:"/logout",children:"Logout"})]}):Object(s.jsxs)("div",{className:"dropdown-menu dropdown-menu-lg-right dropdown-secondary","aria-labelledby":"navbarDropdownMenuLink-55",children:[Object(s.jsx)(b.b,{className:"dropdown-item",to:"/login",children:"Login"}),Object(s.jsx)(b.b,{className:"dropdown-item",to:"/registrati",children:"Registrati"})]})},re=(n(356),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"FooterComponent",children:Object(s.jsx)(oe,{})})}}]),n}(a.Component)),oe=function(){return Object(s.jsxs)("footer",{className:"page-footer font-small stylish-color-dark pt-4",children:[Object(s.jsx)("div",{className:"container text-center text-md-left",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-4 mx-auto",children:[Object(s.jsx)("h5",{className:"font-weight-bold text-uppercase mt-3 mb-4",children:"Footer Content"}),Object(s.jsx)("p",{children:"Here you can use rows and columns to organize your footer content. Lorem ipsum dolor sit amet, consectetur adipisicing elit."})]}),Object(s.jsx)("hr",{className:"clearfix w-100 d-md-none"}),Object(s.jsxs)("div",{className:"col-md-2 mx-auto",children:[Object(s.jsx)("h5",{className:"font-weight-bold text-uppercase mt-3 mb-4",children:"Links"}),Object(s.jsxs)("ul",{className:"list-unstyled",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 1"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 2"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 3"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 4"})})]})]}),Object(s.jsx)("hr",{className:"clearfix w-100 d-md-none"}),Object(s.jsxs)("div",{className:"col-md-2 mx-auto",children:[Object(s.jsx)("h5",{className:"font-weight-bold text-uppercase mt-3 mb-4",children:"Links"}),Object(s.jsxs)("ul",{className:"list-unstyled",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 1"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 2"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 3"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 4"})})]})]}),Object(s.jsx)("hr",{className:"clearfix w-100 d-md-none"}),Object(s.jsxs)("div",{className:"col-md-2 mx-auto",children:[Object(s.jsx)("h5",{className:"font-weight-bold text-uppercase mt-3 mb-4",children:"Links"}),Object(s.jsxs)("ul",{className:"list-unstyled",children:[Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 1"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 2"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 3"})}),Object(s.jsx)("li",{children:Object(s.jsx)("a",{href:"#!",children:"Link 4"})})]})]})]})}),Object(s.jsx)("hr",{}),Object(s.jsxs)("ul",{className:"list-unstyled list-inline text-center py-2",children:[Object(s.jsx)("li",{className:"list-inline-item",children:Object(s.jsx)("h5",{className:"mb-1",children:"Register for free"})}),Object(s.jsx)("li",{className:"list-inline-item",children:Object(s.jsx)("a",{href:"#!",className:"btn btn-danger btn-rounded",children:"Sign up!"})})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("ul",{className:"list-unstyled list-inline text-center",children:[Object(s.jsx)("li",{className:"list-inline-item",children:Object(s.jsx)("a",{className:"btn-floating btn-fb mx-1",children:Object(s.jsx)("i",{className:"fa fa-facebook-f",children:" "})})}),Object(s.jsx)("li",{className:"list-inline-item",children:Object(s.jsx)("a",{className:"btn-floating btn-tw mx-1",children:Object(s.jsx)("i",{className:"fa fa-twitter",children:" "})})}),Object(s.jsx)("li",{className:"list-inline-item",children:Object(s.jsx)("a",{className:"btn-floating btn-dribbble mx-1",children:Object(s.jsx)("i",{className:"fa fa-dribbble",children:" "})})})]}),Object(s.jsxs)("div",{className:"footer-copyright text-center py-3",children:["\xa9 2020 Copyright:",Object(s.jsx)("a",{href:"https://mdbootstrap.com/",children:" MDBootstrap.com"})]})]})},le=(n(357),function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"gandalf",children:[Object(s.jsx)("div",{className:"fireball"}),Object(s.jsx)("div",{className:"skirt"}),Object(s.jsx)("div",{className:"sleeves"}),Object(s.jsxs)("div",{className:"shoulders",children:[Object(s.jsx)("div",{className:"hand left"}),Object(s.jsx)("div",{className:"hand right"})]}),Object(s.jsxs)("div",{className:"head",children:[Object(s.jsx)("div",{className:"hair"}),Object(s.jsx)("div",{className:"beard"})]})]}),Object(s.jsxs)("div",{className:"message",children:[Object(s.jsx)("h1",{children:"403 - You Shall Not Pass"}),Object(s.jsxs)("p",{children:["Uh oh, Gandalf is blocking the way!",Object(s.jsx)("br",{}),"Maybe you have a typo in the url? Or you meant to go to a different location? Like...Hobbiton?"]})]}),Object(s.jsx)(b.b,{className:"btn btn-danger",to:"/login",children:"Login"}),Object(s.jsx)(b.b,{className:"btn btn-info",to:"/clienti",children:"Clienti"})]})}}]),n}(a.Component)),de=function(e){Object(d.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={User:"ROLE_USER",Admin:"ROLE_ADMIN"},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"GestFidApp",children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(ne,{}),Object(s.jsxs)(m.d,{children:[Object(s.jsx)(m.b,{path:"/",exact:!0,component:C}),Object(s.jsx)(m.b,{path:"/login",component:C}),Object(s.jsx)(m.b,{path:"/logout",component:S}),Object(s.jsx)(m.b,{path:"/signup",component:M}),Object(s.jsx)(X,{path:"/welcome/:userId",component:I,role:this.state.User}),Object(s.jsx)(X,{path:"/inscliente/:codfid",component:ee,role:this.state.Admin}),Object(s.jsx)(X,{path:"/clienti",component:A,role:this.state.User}),Object(s.jsx)(m.b,{path:"/forbidden",component:le}),Object(s.jsx)(m.b,{exact:!0,path:"/404",component:je}),Object(s.jsx)(m.b,{component:je})]}),Object(s.jsx)(re,{})]})})}}]),n}(a.Component),je=function(){return Object(s.jsx)("h1",{children:"I am Lost"})};var be=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(de,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(be,{})}),document.getElementById("root"),k.firstCheckIsLogged()),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[358,1,2]]]);
//# sourceMappingURL=main.ab49a80c.chunk.js.map